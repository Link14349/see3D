{"version":3,"sources":["../src/math.js"],"names":["lib","See3D","Library","smallest","probably","n","v","Number","toFixed","Enum","enums","i","LibraryDefineObject","Vector","arr","array","push","index","val","sum","Math","sqrt","b","console","error","Error","type","length","tmp","concat","res","mod","acos","search","Vector2","Vector3","Vector4","x","y","get","set","z","w","StraightLine2D","x0","y0","x1","y1","p0","p1","StraightLine3D","z0","z1","define","trans","library","load","global","a","log"],"mappings":"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","file":"math.js","sourcesContent":["'bpo enable';\n\n!function () {\n    let lib = new See3D.Library(\"Math3D\");// 生成一个新的See3D库\n\n    // 支持的最小精度\n    const smallest = 1e-5;\n    \n    function probably(n) {\n        let v = Number(n.toFixed(5));\n        if (v + smallest >= n) return v;\n        return n;\n    }\n\n    // 枚举类型\n    class Enum extends See3D.LibraryDefineObject {\n        constructor(enums) {\n            super(\"Enum\");\n            let n = 0;\n            for (let i in enums) {\n                let v = enums[i];\n                if (typeof v === \"object\") {\n                    n = v[1];\n                    v = v[0];\n                }\n                this[v] = n;\n                this[\"$\" + n] = v;\n                n++;\n            }\n        }\n        get(n) {\n            return this[\"$\" + n];\n        }\n    }\n\n    // 向量类\n    class Vector extends See3D.LibraryDefineObject {\n        constructor(arr) {\n            super(\"Vector\");\n            this.array = [];\n            for (let i of arr) this.array.push(i);\n        }\n        set(index, val) {\n            this.array[index] = val;\n            return this;\n        }\n        get(index) {\n            return this.array[index];\n        }\n        mod() {\n            let sum = 0;\n            for (let i of this.array) {\n                sum += i ** 2;\n            }\n            return Math.sqrt(sum);\n        }\n        get length() {\n            return this.array.length;\n        }\n        // 点积\n        operatorMod(b) {\n            if (typeof b === \"number\") {\n                console.error(new Error(\"Error 102: Do not support scalar and vector for dot product operations\"));\n                return null;\n            }\n            if (b.type === \"Vector\") {\n                if (b.length != this.length) {\n                    console.error(new Error(\"Error 100: Vector size does not match\"));\n                    return null;\n                }\n                let sum = 0;\n                for (let i in this.array) {\n                    sum += this.array[i] * b.array[i];\n                }\n                return sum;\n            }\n        }\n        operatorAdd(b) {\n            if (typeof b === \"number\") {\n                let tmp = new Vector([]);\n                tmp.array = tmp.array.concat(this.array);\n                for (let i in this.array) {\n                    tmp.array[i] += b;\n                }\n                return tmp;\n            } else {\n                if (b.type === \"Vector\") {\n                    if (b.length != this.length) {\n                        console.error(new Error(\"Error 100: Vector size does not match\"));\n                        return null;\n                    }\n                    let v = [];\n                    for (let i in this.array) {\n                        v.push(this.array[i] + b.array[i]);\n                    }\n                    return new Vector(v);\n                }\n            }\n        }\n        operatorSub(b) {\n            if (typeof b === \"number\") {\n                let tmp = new Vector([]);\n                tmp.array = tmp.array.concat(this.array);\n                for (let i in this.array) {\n                    tmp.array[i] -= b;\n                }\n                return tmp;\n            } else {\n                if (b.type === \"Vector\") {\n                    if (b.length != this.length) {\n                        console.error(new Error(\"Error 100: Vector size does not match\"));\n                        return null;\n                    }\n                    let v = [];\n                    for (let i in this.array) {\n                        v.push(this.array[i] - b.array[i]);\n                    }\n                    return new Vector(v);\n                }\n            }\n        }\n        operatorDiv(b) {\n            if (typeof b === \"number\") {\n                let tmp = new Vector([]);\n                tmp.array = tmp.array.concat(this.array);\n                for (let i in this.array) {\n                    tmp.array[i] /= b;\n                }\n                return tmp;\n            } else {\n                console.error(new Error(\"Error 102: Do not support scalar and vector for dot div operations\"));\n                return null;\n            }\n        }\n        operatorMul(b) {\n            if (typeof b === \"number\") {\n                let tmp = new Vector([]);\n                tmp.array = tmp.array.concat(this.array);\n                for (let i in this.array) {\n                    tmp.array[i] *= b;\n                }\n                return tmp;\n            } else {\n                console.error(new Error(\"Error 102: Do not support scalar and vector for dot div operations\"));\n                return null;\n            }\n        }\n        operatorBinaryXor(b) {\n            if (typeof b === \"number\") {\n                console.error(new Error(\"Error 102: Do not support scalar and vector for dot product operations\"));\n                return null;\n            }\n            if (b.type === \"Vector\") {\n                let res = this % b;\n                res /= this.mod();\n                res /= b.mod();\n                res = Math.acos(res);\n                return probably(res);\n            }\n        }\n        trans(type) {\n            if (type.search(/vector/i)) {\n                if (this.length == 2) return new Vector2(...this.array);\n                if (this.length == 3) return new Vector3(...this.array);\n                if (this.length == 4) return new Vector4(...this.array);\n                return new Vector(this.array);\n            }\n        }\n        norm() {\n            return this / this.mod();\n        }\n    }\n    class Vector2 extends Vector {\n        constructor(x = 0, y = 0) {\n            super([x, y]);\n        }\n        get x() {\n            return this.get(0);\n        }\n        set x(n) {\n            this.set(0, n);\n            return n;\n        }\n        get y() {\n            return this.get(1);\n        }\n        set y(n) {\n            this.set(1, n);\n            return n;\n        }\n    }\n    class Vector3 extends Vector {\n        constructor(x = 0, y = 0, z = 0) {\n            super([x, y, z]);\n        }\n        get x() {\n            return this.get(0);\n        }\n        set x(n) {\n            this.set(0, n);\n            return n;\n        }\n        get y() {\n            return this.get(1);\n        }\n        set y(n) {\n            this.set(1, n);\n            return n;\n        }\n        get z() {\n            return this.get(2);\n        }\n        set z(n) {\n            this.set(2, n);\n            return n;\n        }\n    }\n    class Vector4 extends Vector {\n        constructor(x = 0, y = 0, z = 0, w = 1) {\n            super([x, y, z, w]);\n        }\n        get x() {\n            return this.get(0) / this.w;\n        }\n        set x(n) {\n            this.set(0, n);\n            return n;\n        }\n        get y() {\n            return this.get(1) / this.w;\n        }\n        set y(n) {\n            this.set(1, n);\n            return n;\n        }\n        get z() {\n            return this.get(2) / this.w;\n        }\n        set z(n) {\n            this.set(2, n);\n            return n;\n        }\n        get w() {\n            return this.get(3);\n        }\n        set w(n) {\n            this.set(3, n);\n            return n;\n        }\n    }\n\n    // 直线类\n    class StraightLine2D extends See3D.LibraryDefineObject {\n        constructor(x0, y0, x1, y1) {\n            super(\"StraightLine\");\n            this.p0 = new Vector2(x0, y0);\n            this.p1 = new Vector2(x1, y1);\n            this.v = new Vector2(x1 - x0, y1 - y0);\n        }\n    }\n    class StraightLine3D extends See3D.LibraryDefineObject {\n        constructor(x0, y0, z0, x1, y1, z1) {\n            super(\"StraightLine\");\n            this.p0 = new Vector3(x0, y0, z0);\n            this.p1 = new Vector3(x1, y1, z1);\n            this.v = new Vector3(x1 - x0, y1 - y0, z1 - z0);\n        }\n    }\n\n    // 在库中定义所有的接口\n    lib.define(\"smallest\", smallest);\n    lib.define(\"probably\", probably);\n\n    lib.define(\"Enum\", Enum);\n\n    lib.define(\"Vector\", Vector);\n    lib.define(\"Vector2\", Vector2);\n    lib.define(\"Vector3\", Vector3);\n    lib.define(\"Vector4\", Vector4);\n\n    lib.define(\"StraightLine2D\", StraightLine2D);\n    lib.define(\"StraightLine3D\", StraightLine3D);\n\n    lib.trans();// 在库的全局添加接口\n    See3D.library(lib);// 将库加载入See3D中\n    See3D.load(\"Math3D\");// 将库加入See3D的默认加载队列\n    lib.global();\n    let a = new Vector2(1, 1);\n    let b = new Vector2(1, 1);\n    console.log(a % b);\n    console.log(a ^ b);\n    console.log(a / 0.5);\n    console.log(a * 2);\n}();"]}