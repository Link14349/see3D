{"version":3,"sources":["../src/index.js"],"names":["See3D","dom","document","createElement","__dom","__ctx","getContext","loadGlobal","__loads","i","load","name","__libraries","get","entry","set","push","globalThis","Map","Library","defines","val","LibraryDefineObject","type","checkType","obj","translate","transType","Console"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAAMA,K;AACF,qBAAoD;AAAA,YAAxCC,GAAwC,uEAAlCC,SAASC,aAAT,CAAuB,QAAvB,CAAkC;;AAAA;;AAChD,aAAKC,KAAL,GAAaH,GAAb;AACA,aAAKI,KAAL,GAAaJ,IAAIK,UAAJ,CAAe,IAAf,CAAb;AACA,aAAKC,UAAL;AACH;;;;qCACY;AAAA;AAAA;AAAA;;AAAA;AACT,qCAAcP,MAAMQ,OAApB,8HAA6B;AAAA,wBAApBC,CAAoB;;AACzB,yBAAKC,IAAL,CAAUD,CAAV;AACH;AAHQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIZ;;;6BACIE,I,EAAM;AACP,iBAAKA,IAAL,IAAaX,MAAMY,WAAN,CAAkBC,GAAlB,CAAsBF,IAAtB,CAAb;AACH;;;4BACS;AACN,mBAAO,KAAKP,KAAZ;AACH;;;4BACS;AACN,mBAAO,KAAKC,KAAZ;AACH;;;gCACcS,K,EAAO;AAClB;AACAd,kBAAMY,WAAN,CAAkBG,GAAlB,CAAsBD,MAAMH,IAA5B,EAAkCG,KAAlC;AACH;;;6BACWH,I,EAAM;AACdX,kBAAMQ,OAAN,CAAcQ,IAAd,CAAmBL,IAAnB;AACH;;;mCACiBA,I,EAAM;AACpBM,uBAAWN,IAAX,IAAmBX,MAAMY,WAAN,CAAkBC,GAAlB,CAAsBF,IAAtB,CAAnB;AACH;;;;;;AAGL,CAAC,YAAY;AACTX,UAAMY,WAAN,GAAoB,IAAIM,GAAJ,EAApB;AACAlB,UAAMQ,OAAN,GAAgB,EAAhB;;AAFS,QAGHW,OAHG;AAIL,yBAAYR,IAAZ,EAAkB;AAAA;;AACd,iBAAKA,IAAL,GAAYA,IAAZ;AACA,iBAAKS,OAAL,GAAe,EAAf;AACH;;AAPI;AAAA;AAAA,mCAQET,IARF,EAQQU,GARR,EAQa;AACd,qBAAKD,OAAL,CAAaT,IAAb,IAAqBU,GAArB;AACA,uBAAO,IAAP;AACH;AAXI;AAAA;AAAA,gCAYDV,IAZC,EAYK;AACN,uBAAO,KAAKS,OAAL,CAAaT,IAAb,CAAP;AACH;AAdI;AAAA;AAAA,oCAeG;AACJ,qBAAK,IAAIF,CAAT,IAAc,KAAKW,OAAnB,EAA4B;AACxB,yBAAK,MAAMX,CAAX,IAAgB,KAAKW,OAAL,CAAaX,CAAb,CAAhB;AACH;AACJ;AAnBI;AAAA;AAAA,qCAoBI;AACL,qBAAK,IAAIA,CAAT,IAAc,KAAKW,OAAnB,EAA4B;AACxBH,+BAAWR,CAAX,IAAgB,KAAKW,OAAL,CAAaX,CAAb,CAAhB;AACH;AACJ;AAxBI;;AAAA;AAAA;AA0BT;;;AA1BS,QA2BHa,mBA3BG,GA4BL,6BAAYC,IAAZ,EAAkB;AAAA;;AACd,aAAKA,IAAL,GAAYA,IAAZ;AACH,KA9BI;;AAgCT,aAASC,SAAT,CAAmBC,GAAnB,EAAwBF,IAAxB,EAA8B;AAC1B,eAAOE,IAAIF,IAAJ,IAAYA,IAAnB;AACH;AACD,aAASG,SAAT,CAAmBH,IAAnB,EAAyBE,GAAzB,EAA8B;AAC1B,eAAOA,IAAIE,SAAJ,CAAcJ,IAAd,CAAP;AACH;AACDvB,UAAMmB,OAAN,GAAgBA,OAAhB;AACAnB,UAAMsB,mBAAN,GAA4BA,mBAA5B;AACAtB,UAAM4B,OAAN,GAAgBN,mBAAhB;AACAtB,UAAMwB,SAAN,GAAkBA,SAAlB;AACAxB,UAAM0B,SAAN,GAAkBA,SAAlB;AACH,CA3CA,EAAD","file":"index.js","sourcesContent":["class See3D {\n    constructor(dom = document.createElement(\"canvas\")) {\n        this.__dom = dom;\n        this.__ctx = dom.getContext(\"2d\");\n        this.loadGlobal();\n    }\n    loadGlobal() {\n        for (let i of See3D.__loads) {\n            this.load(i);\n        }\n    }\n    load(name) {\n        this[name] = See3D.__libraries.get(name);\n    }\n    get dom() {\n        return this.__dom;\n    }\n    get ctx() {\n        return this.__ctx;\n    }\n    static library(entry) {\n        // entry\n        See3D.__libraries.set(entry.name, entry);\n    }\n    static load(name) {\n        See3D.__loads.push(name);\n    }\n    static loadGlobal(name) {\n        globalThis[name] = See3D.__libraries.get(name);\n    }\n}\n\n!function () {\n    See3D.__libraries = new Map();\n    See3D.__loads = [];\n    class Library {\n        constructor(name) {\n            this.name = name;\n            this.defines = {};\n        }\n        define(name, val) {\n            this.defines[name] = val;\n            return this;\n        }\n        get(name) {\n            return this.defines[name];\n        }\n        trans() {\n            for (let i in this.defines) {\n                this[\"$\" + i] = this.defines[i];\n            }\n        }\n        global() {\n            for (let i in this.defines) {\n                globalThis[i] = this.defines[i];\n            }\n        }\n    }\n    // 所有的See3D库类接口都必须继承自该类\n    class LibraryDefineObject {\n        constructor(type) {\n            this.type = type;\n        }\n    }\n    function checkType(obj, type) {\n        return obj.type == type;\n    }\n    function translate(type, obj) {\n        return obj.transType(type);\n    }\n    See3D.Library = Library;\n    See3D.LibraryDefineObject = LibraryDefineObject;\n    See3D.Console = LibraryDefineObject;\n    See3D.checkType = checkType;\n    See3D.translate = translate;\n}();"]}